#:import dp kivy.metrics.dp
#:import Window kivy.core.window.Window
#:import AKSpinnerFoldingCube kivymd_extensions.akivymd.uix.spinners.AKSpinnerFoldingCube
<Home>:
    MDBoxLayout:
        orientation:'vertical'
        MDToolbar:
            title:'Brain Fit Track'
            pos_hint:{'top':1}

        
        MDTabs:
            #lock_swiping:True
            id:Base
            allow_stretch:True

            Tab:
                title:'Helpful skills'
                id:dsd

                ScrollView:
                    bar_width:0
                    do_scroll_y:True
                    do_scroll_x:False
                    effect_cls:'ScrollEffect'

                    GridLayout:
                        height:self.minimum_height
                        size_hint_y:None
                        padding:[0,dp(50),0,0]
                        cols:1
                        id:tab_1
                        spacing:dp(50)
                        
                        Img:
                            source:'IMG-20220428-WA0051.jpg'
                            text:'[color=#00ff00ff]How [b]flexible[/b] were you today? [/color]'
                            group:1
                        
                        Img:
                            source:'IMG-20220428-WA0050.jpg'
                            text:'[color=#00ff00ff]How [b]regulated[/b] were you today? [/color]'
                            group:2
                        
                        Img:
                            source:'IMG-20220428-WA0049.jpg'
                            text:'[color=#00ff00ff]How [b]attentive[/b] were you today?[/color]'
                            group:3
                        
                        Img:
                            source:'IMG-20220428-WA0048.jpg'
                            text:'[color=#00ff00ff]How [b]deliberate[/b] were you today? [/color]'
                            group:4
                            height:dp(600)
                            spacing:dp(5)
                            background_color:[1,0,0,1]
                            MDFillRoundFlatButton:
                                text:'Submit'
                                id:bttn_1
                                md_bg_color:[0,1,0,1]
                                pos_hint:{'center_x':.5}
                                on_press:root.skill(tab_1)
                                disabled:app.bool

                
            Tab:
                title:'Unhelpful behaviours'
                ScrollView:
                    effect_cls:'ScrollEffect'
                    bar_width:0
                    do_scroll_y:True
                    do_scroll_x:False
                    spacing:dp(20)

                    GridLayout:
                        height:self.minimum_height
                        size_hint_y:None
                        padding:[0,dp(50),0,0]
                        cols:1
                        spacing:dp(50)
                        id:tab_2
                        Img:
                            source:'IMG-20220428-WA0068.jpg'
                            text:'[color=#ff0000ff]Level 1[/color]'
                            group:5
                            
                        Img:
                            source:'IMG-20220428-WA0069.jpg'
                            text:'[color=#ff0000ff]Level 2[/color]'
                            group:6
                        Img:
                            source:'IMG-20220428-WA0070.jpg'
                            text:'[color=#ff0000ff]Level 3[/color]'
                            group:7
                        Img:
                            source:'IMG-20220428-WA0071.jpg'
                            text:'[color=#ff0000ff]Level 4[/color]'
                            group:8
                            height:dp(600)
                            MDFillRoundFlatButton:
                                id:bttn_2
                                text:'Submit'
                                pos_hint:{'center_x':.5}
                                on_press:root.level(tab_2)
                                disabled:app.bool_2
                        
<Img@BoxLayout>:
    size_hint_y:None 
    height:dp(500)
    orientation:'vertical'
    source:''
    text:''
    group:0
    Image:
        source:root.source 
        size_hint_y:None 
        height:dp(280)
    MDLabel:
        text:root.text 
        markup:True 
        bold:True 
        adaptive_height:True 
        halign:'center'
    Cointainer:
        group:root.group 
    Image:
        size_hint_y:None 
        height:dp(100)
        source:'IMG-20220501-WA0025.jpg' if root.group<5 else 'IMG-20220501-WA0024.jpg'
                                    
            
<carf@BoxLayout>:
    orientation:"vertical"
    canvas:
         
        Color:
            rgba:[1,1,1,1]
        
        RoundedRectangle:
            size:self.size 
            pos:self.pos
            radius:[dp(20),0,dp(20),0]

<Box@carf+FakeRectangularElevationBehavior>:
    elevation:dp(8)
    #size_hint:.2,.2 
    #size:dp(40),dp(40)
    group:0
    MDRelativeLayout:
        size_hint:None,None
        size:self.parent.size
        pos:self.parent.pos 
        MDCheckbox:
            group:str(root.group) 
            ripple_scale:0
            selected_color:[0,1,0,1] if root.group<5 else [1,0,0,1]
            size_hint:None,None 
            size:dp(20),dp(10)
            pos_hint:{'center':[.5,.5]}


<Cointainer@MDBoxLayout>:
    size_hint_y:None
    height:'120dp'
    spacing:'5dp'
    group:0
    MDBoxLayout:
        orientation:'vertical'
        Box:
            group:str(root.group)
        MDLabel:
            text:'[size=12sp]Not\n at \nall[/size]'
            markup:True
            halign:'center'
            bold:True
    MDBoxLayout:
        orientation:'vertical'
        Box:
            group:str(root.group)
        MDLabel:
            text:'[size=12sp]Once\n or \ntwice[/size]'
            halign:'center'
            bold:True
            markup:True
    MDBoxLayout:
        orientation:'vertical'
        Box:
            group:str(root.group)
        MDLabel:
            text:'[size=12sp]Some\nof\nthe\ntime[/size]'
            markup:True
            halign:'center'
            bold:True
    MDBoxLayout:
        orientation:'vertical'
        Box:
            group:str(root.group)
        MDLabel:
            text:'[size=12sp]Most\nof\nthe\ntime[/size]'
            halign:'center'
            bold:True
            markup:True
    MDBoxLayout:
        orientation:'vertical'
        Box:
            group:str(root.group)
        MDLabel:
            text:'[size=12sp]All\n the \ntime[/size]'
            markup:True
            halign:'center'
            bold:True
<CustomSpinner@FloatLayout>:
    
    AKSpinnerFoldingCube:
        angle:135
        id:spin
        color:[1,0,0,.8]
        spinner_size:dp(100)
        active:True
        pos_hint:{'center_x':.5,'center_y':.5}
